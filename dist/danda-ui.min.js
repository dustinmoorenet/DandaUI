var M={},G={};G.Input={},G.Panel={};var U={};G.Input.Button=G.Tapable.extend({tagName:"button",setText:function(a){this.text_class&&this.$el.removeClass(this.text_class),this.text=a,this.id=a.replace(" ","-").toLowerCase(),this.$el.text(a),this.$el.addClass(this.id)},disable:function(a){a?this.$el.prop("disabled",!0):this.$el.removeProp("disabled")}}),G.Input.Select=HumanView.extend({className:"select",template:JST.select,initialize:function(a){this.options={},this.$select=$((a||{}).select||$("<select />")),this.$select.remove().appendTo(this.el),this.render()},render:function(){this.$el.append(this.template()),this.display=new G.Input.Button({el:this.$(".display")}),this.listenTo(this.display,"tap",this.toggleDisplay)},copyOptions:function(){var a=$("option",this.$select).remove();a.forEach(function(a){this.addOption({value:a.value,name:$(a).text()})}.bind(this))},addOption:function(a){var b=$("<option />").text(a.text).val(a.value);this.$select.append(b);var c=$("<div />").text(a.text).attr("value",a.value);c=new G.Tapable({el:c,id:a.value}),this.options[a.value]=c,this.$(".options").append(c.el),this.listenTo(c,"tap",this.optionSelected),this.listenTo(c,"tap",this.commitSelectedOption),this.$(".display").text(this.$select.find(":selected").text())},removeOption:function(){},toggleDisplay:function(){this.$el.toggleClass("show")},optionSelected:function(a){this.$(".options div").removeClass("selected"),a.$el.addClass("selected"),this.selected_option=a,this.$(".display").text(a.$el.text())},commitSelectedOption:function(){this.$el.removeClass("show"),this.$select.val(this.selected_option.id)}}),G.Input.Text=Backbone.View.extend({tagName:"input",attributes:{type:"text"},disable:function(a){a?this.$el.prop("disabled",!0):this.$el.removeProp("disabled")}}),G.Input.ToggleButtons=Backbone.View.extend({className:"toggle-buttons",initialize:function(a){this.buildButtons((a||{}).buttons||[]),this.listenTo(this,"tap",this.setChecked)},buildButtons:function(a){a.forEach(this.buildButton.bind(this))},buildButton:function(a){var b=new G.Input.Button;b.setText(a),this.$el.append(b.el),this.listenTo(b,"all",this.onButtonEvent)},setChecked:function(a){this.$("button").removeClass("checked"),a.$el.addClass("checked")},onButtonEvent:function(){this.trigger.apply(this,arguments)}}),this.JST=this.JST||{},this.JST.another=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g="",h="function",i=this.escapeExpression;return g+="<table>\n  <tr><td>",(f=c.foo)?f=f.call(b,{hash:{},data:e}):(f=b&&b.foo,f=typeof f===h?f.call(b,{hash:{},data:e}):f),g+=i(f)+"</td></tr>\n</table>\n"}),this.JST.select=Handlebars.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<div class="select">\n  <button class="display"></button>\n  <div class="options"></div>\n</div>\n'}),this.JST.test=Handlebars.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<div class="foo">Fun</div>\n'}),G.Panel.Base=Backbone.View.extend({className:"base panel"}),G.Tapable=HumanView.extend({events:{click:"onClick",touchstart:"onTouchStart",mousedown:"onMouseDown",keydown:"onKeyDown"},initialize:function(){this.onDone=this.onDone.bind(this),this.onCancel=this.onCancel.bind(this)},onClick:function(a){a.preventDefault()},onKeyDown:function(a){(13===a.which||32===a.which)&&(this.onStart(),window.setTimeout(this.onDone,200))},onTouchStart:function(){this.onStart(),this.touch=!0,$("body").on("touchend."+this.cid,this.onDone),$("body").on("touchmove."+this.cid,this.onCancel),window.setTimeout(this.onCancel,500)},onMouseDown:function(){this.touch||(this.onStart(),$("body").on("mouseup."+this.cid,this.onDone))},onStart:function(){this.cleanUp(),this.$el.addClass("active")},onDone:function(){return this.canceled?(this.cleanUp(),void 0):(this.cleanUp(),this.trigger("tap",this),this.id&&this.trigger("tap-"+this.id,this),void 0)},onCancel:function(){this.canceled=!0,this.$el.removeClass("active")},cleanUp:function(){this.touch=!1,this.canceled=!1,$("body").off("."+this.cid),this.$el.removeClass("active")}});
//# sourceMappingURL=danda-ui.map